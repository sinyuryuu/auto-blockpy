CustomDialog={},Blockly.alert=function(message,callback){console.log("Alert: "+message),swal.fire({title:"錯誤",text:message,icon:"warning",confirmButtonText:"確定",confirmButtonColor:"#3085d6",allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1,stopKeydownPropagation:!1}).then(result=>{result.isConfirmed&&callback()})},Blockly.confirm=function(message,callback){console.log("Confirm: "+message),swal.fire({title:"確認",text:message,icon:"question",showCancelButton:!0,confirmButtonText:"確定",cancelButtonText:"取消",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1,stopKeydownPropagation:!1}).then(result=>{result.isConfirmed?callback(!0):result.isDenied&&callback(!1)})},Blockly.prompt=function(message,defaultValue,callback){console.log("Prompt: "+message),swal.fire({title:"新增變數",text:message,input:"text",inputValue:defaultValue,showCancelButton:!0,confirmButtonText:"確定",cancelButtonText:"取消",showLoaderOnConfirm:!0,preConfirm:result=>result}).then((function(result){result.value?callback(result.value):callback(null)}))},CustomDialog.hide=function(){CustomDialog.backdropDiv_&&(CustomDialog.backdropDiv_.style.display="none",CustomDialog.dialogDiv_.style.display="none")},CustomDialog.show=function(title,message,options){var backdropDiv=CustomDialog.backdropDiv_,dialogDiv=CustomDialog.dialogDiv_;dialogDiv||((backdropDiv=document.createElement("div")).id="customDialogBackdrop",backdropDiv.style.cssText="position: absolute;top: 0; left: 0; right: 0; bottom: 0;background-color: rgba(0, 0, 0, .7);z-index: 100;",document.body.appendChild(backdropDiv),(dialogDiv=document.createElement("div")).id="customDialog",dialogDiv.style.cssText="background-color: #fff;width: 400px;margin: 20px auto 0;padding: 10px;",backdropDiv.appendChild(dialogDiv),dialogDiv.onclick=function(event){event.stopPropagation()},CustomDialog.backdropDiv_=backdropDiv,CustomDialog.dialogDiv_=dialogDiv),backdropDiv.style.display="block",dialogDiv.style.display="block",dialogDiv.innerHTML='<header class="customDialogTitle"></header><p class="customDialogMessage"></p>'+(options.showInput?'<div><input id="customDialogInput"></div>':"")+'<div class="customDialogButtons">'+(options.showCancel?'<button id="customDialogCancel">Cancel</button>':"")+(options.showOkay?'<button id="customDialogOkay">OK</button>':"")+"</div>",dialogDiv.getElementsByClassName("customDialogTitle")[0].appendChild(document.createTextNode(title)),dialogDiv.getElementsByClassName("customDialogMessage")[0].appendChild(document.createTextNode(message));var onOkay=function(event){CustomDialog.hide(),options.onOkay&&options.onOkay(),event&&event.stopPropagation()},onCancel=function(event){CustomDialog.hide(),options.onCancel&&options.onCancel(),event&&event.stopPropagation()},dialogInput=document.getElementById("customDialogInput");if(CustomDialog.inputField=dialogInput,dialogInput)dialogInput.focus(),dialogInput.onkeyup=function(event){return 13==event.keyCode?(onOkay(),!1):27==event.keyCode?(onCancel(),!1):void 0};else{var okay=document.getElementById("customDialogOkay");okay&&okay.focus()}options.showOkay&&document.getElementById("customDialogOkay").addEventListener("click",onOkay),options.showCancel&&document.getElementById("customDialogCancel").addEventListener("click",onCancel),backdropDiv.onclick=onCancel};